https://cdn.otus.ru/media/public/66/db/Kubernetes_operators_HW-139042-66dbcd.pdf

kind

1) secrets
2) status

python3 -m kopf run mysql-operator.py --verbose

export MYSQLPOD=$(kubectl get pods -l app=mysql-instance -o jsonpath="{.items[*].metadata.name}")
kubectl exec -it $MYSQLPOD -- mysql -uroot -potuspassword -e "show databases"
kubectl exec -it $MYSQLPOD -- mysql -uroot -potuspassword -e "insert into test (name) values ('new 333')" otus-database
kubectl exec -it $MYSQLPOD -- mysql -uroot -potuspassword -e "select * from test" otus-database


1) operator docker image
2) operator k8s pack - deployment, rbac, crd